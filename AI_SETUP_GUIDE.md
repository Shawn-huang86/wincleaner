# WinCleaner AI 功能设置指南

## 快速开始

### 1. 获取 OpenAI API 密钥

1. 访问 [OpenAI 官网](https://platform.openai.com/)
2. 注册或登录账户
3. 进入 API Keys 页面
4. 点击 "Create new secret key"
5. 复制生成的 API 密钥（格式类似：sk-...）

### 2. 配置 WinCleaner AI 功能

1. 启动 WinCleaner
2. 点击右上角的设置按钮 ⚙️
3. 在设置面板中找到 "AI智能分析" 部分
4. 点击 "配置AI服务" 按钮
5. 在弹出的配置面板中：
   - 开启 "启用AI分析" 开关
   - 选择 "OpenAI (GPT-4)" 作为服务提供商
   - 在 "API密钥" 字段中粘贴您的密钥
   - 选择模型（推荐 GPT-4）
   - 点击 "测试连接" 验证配置
   - 如果测试成功，点击 "保存配置"

### 3. 开始使用 AI 功能

配置完成后，AI 功能会自动集成到以下操作中：

#### 文件扫描
- 点击 "快速扫描" 或 "深度扫描"
- 扫描完成后，在结果表格中可以看到 "AI分析" 列
- AI 会显示置信度、安全评分和智能建议

#### 应用管理
- 点击顶部的 "应用管理" 按钮
- 系统会自动扫描并分析已安装的应用
- 查看 AI 对每个应用的重要性评估和卸载建议

## 详细配置说明

### AI 服务提供商选项

#### OpenAI (推荐)
- **优点**: 准确性高，稳定性好
- **缺点**: 需要付费 API 密钥
- **支持模型**:
  - GPT-4 (推荐) - 最高准确性
  - GPT-4 Turbo - 更快响应
  - GPT-3.5 Turbo - 成本较低

#### Claude (计划支持)
- Anthropic 的 Claude 模型
- 目前正在开发中

#### 本地模型 (计划支持)
- 使用 Ollama 运行本地模型
- 无需 API 密钥，完全离线
- 目前正在开发中

### 高级设置

#### 最大Token数
- **默认值**: 1000
- **范围**: 100-4000
- **说明**: 控制AI响应的最大长度，数值越大响应越详细，但成本也越高

#### 温度参数
- **默认值**: 0.1
- **范围**: 0-1
- **说明**: 控制AI响应的随机性，0表示最确定的回答，1表示最有创意的回答

## 使用技巧

### 1. 优化成本
- 使用 GPT-3.5 Turbo 可以降低成本
- 适当降低最大Token数
- 利用缓存机制避免重复分析

### 2. 提高准确性
- 使用 GPT-4 模型获得最佳效果
- 保持温度参数较低 (0.1-0.3)
- 定期更新到最新版本

### 3. 性能优化
- 分批处理大量文件
- 利用缓存避免重复分析
- 在网络良好时进行分析

## 故障排除

### 连接测试失败

#### 错误：API密钥无效
- **解决方案**: 检查API密钥是否正确复制，确保没有多余的空格

#### 错误：网络连接失败
- **解决方案**: 
  - 检查网络连接
  - 确认防火墙没有阻止应用
  - 尝试使用VPN（如果在某些地区）

#### 错误：API配额不足
- **解决方案**: 
  - 检查OpenAI账户余额
  - 升级API计划
  - 等待配额重置

### AI分析结果异常

#### 分析结果不准确
- **可能原因**: 模型选择不当或温度参数过高
- **解决方案**: 
  - 切换到GPT-4模型
  - 降低温度参数到0.1
  - 报告问题以改进算法

#### 分析速度慢
- **可能原因**: 网络延迟或API限制
- **解决方案**: 
  - 减少批量分析的文件数量
  - 检查网络连接质量
  - 避免在高峰时段使用

### 界面显示问题

#### AI分析列不显示
- **解决方案**: 
  - 确认AI功能已启用
  - 重新扫描文件
  - 刷新应用程序

#### 置信度显示异常
- **解决方案**: 
  - 检查AI服务配置
  - 重新测试连接
  - 清除缓存后重试

## 安全和隐私

### 数据安全
- API密钥仅存储在本地，不会上传到服务器
- 仅发送文件元数据（路径、大小、修改时间等）进行分析
- 不会上传文件内容或敏感信息

### 隐私保护
- 所有AI分析都通过加密连接进行
- 分析结果仅存储在本地
- 可以随时禁用AI功能

### 建议
- 定期更换API密钥
- 不要在公共计算机上保存API密钥
- 注意API使用量和费用

## 成本估算

### OpenAI API 定价 (参考)
- GPT-4: ~$0.03/1K tokens (输入) + $0.06/1K tokens (输出)
- GPT-3.5 Turbo: ~$0.001/1K tokens (输入) + $0.002/1K tokens (输出)

### 预估使用成本
- 分析1000个文件大约消耗 $0.50-2.00 (取决于模型选择)
- 日常使用建议预算 $5-10/月

## 技术支持

如果遇到问题，请：

1. 查看本指南的故障排除部分
2. 检查应用程序日志
3. 确认网络连接和API配置
4. 联系技术支持团队

---

通过正确配置AI功能，您将获得更智能、更安全的文件清理体验！
